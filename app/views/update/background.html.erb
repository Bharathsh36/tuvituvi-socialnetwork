<div class="ui grid ">
<div class="ui three wide column"></div>
<div class="ui ten wide column center aligned">
<div class="ui segment" style="margin-top:100px;">
 <h1>Choose your profile background image</h1>
<%= form_for @user, url: wizard_path do |f| %>
<br>
<div class="ui form">

<div class="ui items">
<div class="ui violet button">

 <div class=" ui small upload-background-container" >
   <%= f.file_field(:background ,accept: 'image/jpg, image/png, image/jpeg, image/gif', id: 'pictureInput') %> 
 </div>
<div id="target" class="ui fluid image"></div>
</div>
</div>
 <br>
 
 <%= f.submit 'Continue ->' , url: wizard_path , class: 'ui violet right floated button' %>
 <%= link_to 'Skip this step >>', next_wizard_path, class: 'ui inverted violet right floated button' %>
</div>
<br>
<% end %>

</div>
</div>
</div>
 <script type="text/javascript">
$(function() {
  $('#pictureInput').on('change', function(event) {
    var files = event.target.files;
    var image = files[0]
    var reader = new FileReader();
    reader.onload = function(file) {
      var img = new Image();
      console.log(file);
      img.src = file.target.result;
      $('#target').html(img); 
    }
    reader.readAsDataURL(image);
    console.log(files);
  });
});
</script>